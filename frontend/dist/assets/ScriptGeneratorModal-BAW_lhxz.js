import{e,D as t,q as a,d as l,r as s,I as n,X as o,a as r,P as i,p as c,G as d,u,t as m,f as v,F as b,z as p,j as g,s as y,k as x,Q as f,W as h,_ as k,h as w,S as _}from"./vendor-BByfD4fc.js";import{a as C,b as S}from"./api-C081dHGG.js";import{r as j}from"./XMarkIcon-WKGGK6VI.js";import{c as U,b as R,r as T}from"./ShieldCheckIcon-Crw9WMPd.js";import{r as M}from"./XCircleIcon-cKL_muRM.js";import{r as V}from"./ExclamationTriangleIcon-CMg3JLn_.js";import{_ as A}from"./_plugin-vue_export-helper-BCo6x5W8.js";function I(l,s){return t(),e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{d:"M17.004 10.407c.138.435-.216.842-.672.842h-3.465a.75.75 0 0 1-.65-.375l-1.732-3c-.229-.396-.053-.907.393-1.004a5.252 5.252 0 0 1 6.126 3.537ZM8.12 8.464c.307-.338.838-.235 1.066.16l1.732 3a.75.75 0 0 1 0 .75l-1.732 3c-.229.397-.76.5-1.067.161A5.23 5.23 0 0 1 6.75 12a5.23 5.23 0 0 1 1.37-3.536ZM10.878 17.13c-.447-.098-.623-.608-.394-1.004l1.733-3.002a.75.75 0 0 1 .65-.375h3.465c.457 0 .81.407.672.842a5.252 5.252 0 0 1-6.126 3.539Z"}),a("path",{"fill-rule":"evenodd",d:"M21 12.75a.75.75 0 1 0 0-1.5h-.783a8.22 8.22 0 0 0-.237-1.357l.734-.267a.75.75 0 1 0-.513-1.41l-.735.268a8.24 8.24 0 0 0-.689-1.192l.6-.503a.75.75 0 1 0-.964-1.149l-.6.504a8.3 8.3 0 0 0-1.054-.885l.391-.678a.75.75 0 1 0-1.299-.75l-.39.676a8.188 8.188 0 0 0-1.295-.47l.136-.77a.75.75 0 0 0-1.477-.26l-.136.77a8.36 8.36 0 0 0-1.377 0l-.136-.77a.75.75 0 1 0-1.477.26l.136.77c-.448.121-.88.28-1.294.47l-.39-.676a.75.75 0 0 0-1.3.75l.392.678a8.29 8.29 0 0 0-1.054.885l-.6-.504a.75.75 0 1 0-.965 1.149l.6.503a8.243 8.243 0 0 0-.689 1.192L3.8 8.216a.75.75 0 1 0-.513 1.41l.735.267a8.222 8.222 0 0 0-.238 1.356h-.783a.75.75 0 0 0 0 1.5h.783c.042.464.122.917.238 1.356l-.735.268a.75.75 0 0 0 .513 1.41l.735-.268c.197.417.428.816.69 1.191l-.6.504a.75.75 0 0 0 .963 1.15l.601-.505c.326.323.679.62 1.054.885l-.392.68a.75.75 0 0 0 1.3.75l.39-.679c.414.192.847.35 1.294.471l-.136.77a.75.75 0 0 0 1.477.261l.137-.772a8.332 8.332 0 0 0 1.376 0l.136.772a.75.75 0 1 0 1.477-.26l-.136-.771a8.19 8.19 0 0 0 1.294-.47l.391.677a.75.75 0 0 0 1.3-.75l-.393-.679a8.29 8.29 0 0 0 1.054-.885l.601.504a.75.75 0 0 0 .964-1.15l-.6-.503c.261-.375.492-.774.69-1.191l.735.267a.75.75 0 1 0 .512-1.41l-.734-.267c.115-.439.195-.892.237-1.356h.784Zm-2.657-3.06a6.744 6.744 0 0 0-1.19-2.053 6.784 6.784 0 0 0-1.82-1.51A6.705 6.705 0 0 0 12 5.25a6.8 6.8 0 0 0-1.225.11 6.7 6.7 0 0 0-2.15.793 6.784 6.784 0 0 0-2.952 3.489.76.76 0 0 1-.036.098A6.74 6.74 0 0 0 5.251 12a6.74 6.74 0 0 0 3.366 5.842l.009.005a6.704 6.704 0 0 0 2.18.798l.022.003a6.792 6.792 0 0 0 2.368-.004 6.704 6.704 0 0 0 2.205-.811 6.785 6.785 0 0 0 1.762-1.484l.009-.01.009-.01a6.743 6.743 0 0 0 1.18-2.066c.253-.707.39-1.469.39-2.263a6.74 6.74 0 0 0-.408-2.309Z","clip-rule":"evenodd"})])}function O(l,s){return t(),e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z","clip-rule":"evenodd"}),a("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"})])}function L(l,s){return t(),e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z","clip-rule":"evenodd"})])}function Z(l,s){return t(),e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[a("path",{"fill-rule":"evenodd",d:"M12 6.75a5.25 5.25 0 0 1 6.775-5.025.75.75 0 0 1 .313 1.248l-3.32 3.319c.063.475.276.934.641 1.299.365.365.824.578 1.3.64l3.318-3.319a.75.75 0 0 1 1.248.313 5.25 5.25 0 0 1-5.472 6.756c-1.018-.086-1.87.1-2.309.634L7.344 21.3A3.298 3.298 0 1 1 2.7 16.657l8.684-7.151c.533-.44.72-1.291.634-2.309A5.342 5.342 0 0 1 12 6.75ZM4.117 19.125a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75h-.008a.75.75 0 0 1-.75-.75v-.008Z","clip-rule":"evenodd"}),a("path",{d:"m10.076 8.64-2.201-2.2V4.874a.75.75 0 0 0-.364-.643l-3.75-2.25a.75.75 0 0 0-.916.113l-.75.75a.75.75 0 0 0-.113.916l2.25 3.75a.75.75 0 0 0 .643.364h1.564l2.062 2.062 1.575-1.297Z"}),a("path",{"fill-rule":"evenodd",d:"m12.556 17.329 4.183 4.182a3.375 3.375 0 0 0 4.773-4.773l-3.306-3.305a6.803 6.803 0 0 1-1.53.043c-.394-.034-.682-.006-.867.042a.589.589 0 0 0-.167.063l-3.086 3.748Zm3.414-1.36a.75.75 0 0 1 1.06 0l1.875 1.876a.75.75 0 1 1-1.06 1.06L15.97 17.03a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}const D={key:0,class:"fixed inset-0 z-50 overflow-y-auto"},F={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},B={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-6xl sm:w-full sm:p-6"},E={class:"sm:flex sm:items-start"},H={class:"w-full"},P={class:"flex justify-between items-center mb-6"},N={class:"bg-gray-50 rounded-lg p-4 mb-6"},z={class:"flex items-center justify-between"},G={class:"text-lg font-semibold"},W={class:"text-sm text-gray-600"},J={key:0,class:"flex items-center space-x-2"},$={class:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium"},X={key:1,class:"flex items-center space-x-2"},q={class:"border-b border-gray-200 mb-6"},K={class:"-mb-px flex space-x-8"},Q=["onClick"],Y={class:"tab-content"},ee={key:0,class:"space-y-6"},te={class:"bg-white border rounded-lg p-6"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},le={class:"space-y-4"},se={class:"space-y-3"},ne={class:"flex items-center"},oe={class:"flex items-center"},re={class:"flex items-center"},ie={class:"flex items-center"},ce={class:"mt-6 flex justify-center"},de=["disabled"],ue={key:0},me={key:1},ve={key:0,class:"bg-white border rounded-lg p-6"},be={class:"border-b border-gray-200 mb-4"},pe={class:"-mb-px flex space-x-8"},ge=["onClick"],ye={class:"space-y-4"},xe={key:0},fe={class:"flex justify-between items-center mb-2"},he={class:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto"},ke={key:1},we={class:"flex justify-between items-center mb-2"},_e={class:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto"},Ce={key:2},Se={class:"flex justify-between items-center mb-2"},je={class:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto"},Ue={key:3},Re={class:"flex justify-between items-center mb-2"},Te={class:"bg-gray-100 p-4 rounded-lg text-sm overflow-x-auto"},Me={class:"mt-6 flex justify-between items-center"},Ve={class:"text-sm text-gray-600"},Ae={class:"font-mono"},Ie={key:1,class:"bg-green-50 border border-green-200 rounded-lg p-4"},Oe={class:"text-green-800"},Le={key:2,class:"bg-red-50 border border-red-200 rounded-lg p-4"},Ze={class:"text-red-800"},De={key:1,class:"space-y-6"},Fe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},Be={class:"col-span-2 bg-white border rounded-lg p-6"},Ee={class:"grid grid-cols-2 gap-4 text-sm"},He={class:"mt-1 text-gray-900 font-mono text-xs"},Pe={class:"mt-1 text-gray-900"},Ne={class:"mt-1 text-gray-900"},ze={class:"mt-1 text-gray-900"},Ge={class:"mt-1 text-gray-900"},We={class:"mt-1 text-gray-900"},Je={class:"bg-white border rounded-lg p-6"},$e={class:"space-y-3"},Xe={key:0,class:"bg-white border rounded-lg p-6"},qe={class:"flex items-center mb-4"},Ke={class:"mr-4"},Qe={class:"flex-1"},Ye={class:"w-full bg-gray-200 rounded-full h-2"},et={key:0,class:"mb-4"},tt={class:"list-disc list-inside text-sm text-red-700 space-y-1"},at={key:1,class:"mb-4"},lt={class:"list-disc list-inside text-sm text-yellow-700 space-y-1"},st={key:2,class:"space-y-6"},nt={class:"bg-white border rounded-lg p-6"},ot={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},rt={class:"space-y-3"},it={class:"flex items-center"},ct={class:"flex items-center"},dt={class:"flex items-center"},ut={class:"flex items-center"},mt={class:"space-y-4"},vt={key:3,class:"space-y-6"},bt={class:"bg-white border rounded-lg p-6"},pt={key:0,class:"text-center py-8 text-gray-500"},gt={key:1,class:"space-y-4"},yt={class:"flex justify-between items-start"},xt={class:"flex items-center space-x-2"},ft={class:"font-medium"},ht={key:0,class:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium"},kt={class:"text-sm text-gray-600 mt-1"},wt={key:0,class:"text-sm text-red-600 mt-1"},_t={class:"text-right text-sm text-gray-600"},Ct={key:4,class:"space-y-6"},St={class:"bg-white border rounded-lg p-6"},jt={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ut={class:"space-y-3"},Rt={class:"space-y-3"},Tt={class:"mt-6"},Mt={class:"space-y-3"},Vt={key:0,class:"bg-white border rounded-lg p-6"},At={class:"space-y-3"},It={class:"font-medium"},Ot={class:"text-sm text-gray-600"},Lt={class:"text-sm text-red-600"},Zt={key:0,class:"fixed inset-0 z-60 overflow-y-auto"},Dt={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Ft={class:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Bt={class:"sm:flex sm:items-start"},Et={class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},Ht={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Pt={class:"mt-2"},Nt={class:"mt-3"},zt={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},Gt=A(l({__name:"ScriptGeneratorModal",props:{website:{},websiteId:{},isOpen:{type:Boolean}},emits:["close","success","tokenUpdated"],setup(l,{emit:A}){const Gt=l,Wt=A,Jt=s("generate"),$t=s(null),Xt=s(!1),qt=s(null),Kt=s([]),Qt=s([]),Yt=s(!1),ea=s(""),ta=s(null),aa=s(""),la=s(""),sa=s("html"),na=n(()=>Gt.website?.id||Gt.websiteId),oa=[{id:"html",name:"HTML"},{id:"react",name:"React/Next.js"},{id:"wordpress",name:"WordPress"},{id:"advanced",name:"Advanced JS"}],ra=o({script_version:"v2_enhanced",collect_mouse_movements:!0,collect_keyboard_patterns:!0,collect_scroll_behavior:!0,collect_timing_data:!0,collect_device_info:!0,sampling_rate:.1,batch_size:50,send_interval:3e4,debug_mode:!1}),ia=o({environment:"production",script_version:"v2_enhanced",reason:""}),ca=[{id:"generate",name:"Generate Script",icon:I},{id:"overview",name:"Token Overview",icon:L},{id:"configuration",name:"Configuration",icon:I},{id:"history",name:"History",icon:O},{id:"advanced",name:"Advanced",icon:Z}],da=e=>{switch(e){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"revoked":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ua=()=>{Wt("close")},ma=e=>e?new Date(e).toLocaleString():null,va=async()=>{if(na.value){Xt.value=!0;try{const e=await S.getScriptTokenInfo(na.value);e.success&&($t.value=e.data.token,Object.assign(ra,$t.value.config||{}),ia.environment=$t.value.environment||"production",ia.script_version=$t.value.script_version||"v2_enhanced");const t=await S.getTokenHistory(na.value);t.success&&(Kt.value=t.data.history)}catch(e){console.error("Failed to load token data:",e)}finally{Xt.value=!1}}},ba=async()=>{if(na.value){Xt.value=!0,aa.value="",la.value="";try{const e=await S.generateScriptToken(na.value,{script_version:ia.script_version,environment:ia.environment,config:ra});if(!e.success)throw new Error(e.error?.message||"Failed to generate script");ta.value=e.data,$t.value=e.data.token,la.value="Script generated successfully!",Wt("success",e.data),Wt("tokenUpdated",$t.value),sa.value="html"}catch(e){aa.value=e.message||"Failed to generate script"}finally{Xt.value=!1}}else aa.value="Website ID is required"},pa=async e=>{try{await navigator.clipboard.writeText(e),la.value="Copied to clipboard!",setTimeout(()=>{la.value=""},2e3)}catch(t){aa.value="Failed to copy to clipboard"}},ga=()=>{if(!ta.value)return;const e={website:Gt.website,token:ta.value.token,integration:ta.value.integration,analytics:ta.value.analytics,configuration:ra,generated_at:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`passive-captcha-${(Gt.website?.name||"website")?.toLowerCase().replace(/\s+/g,"-")}-integration.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)},ya=async()=>{if(na.value){Xt.value=!0;try{const e=await S.validateTokenSecurity(na.value);e.success&&(qt.value=e.data.security_report)}catch(e){console.error("Failed to validate security:",e)}finally{Xt.value=!1}}},xa=async()=>{if(na.value){Xt.value=!0;try{const e=await S.updateTokenConfig(na.value,ra,"admin_dashboard");e.success&&($t.value=e.data.token,Wt("tokenUpdated",$t.value),la.value="Configuration updated successfully!")}catch(e){console.error("Failed to update config:",e),e.value="Failed to update configuration"}finally{Xt.value=!1}}},fa=()=>{$t.value?.config&&Object.assign(ra,$t.value.config)},ha=async()=>{if(na.value){Xt.value=!0;try{const e=await S.regenerateScriptTokenEnhanced(na.value,{reason:"Manual regeneration via enhanced token management"});e.success&&($t.value=e.data.token,Wt("tokenUpdated",$t.value),la.value="Token regenerated successfully!",await va())}catch(e){console.error("Failed to regenerate token:",e),e.value="Failed to regenerate token"}finally{Xt.value=!1}}},ka=async()=>{if(na.value){Xt.value=!0;try{const e=await S.regenerateScriptTokenEnhanced(na.value,{script_version:ia.script_version,environment:ia.environment,reason:ia.reason||"Advanced regeneration via token management",admin_user:"admin_dashboard"});e.success&&($t.value=e.data.token,Wt("tokenUpdated",$t.value),la.value="Token regenerated with advanced options!",await va(),ia.reason="")}catch(e){console.error("Failed to regenerate token:",e),e.value="Failed to regenerate token"}finally{Xt.value=!1}}},wa=async()=>{if(na.value){Xt.value=!0;try{const e=await S.revokeScriptTokenEnhanced(na.value,ea.value||"Manual revocation via enhanced token management","admin_dashboard");e.success&&($t.value=e.data.token,Wt("tokenUpdated",$t.value),Yt.value=!1,ea.value="",la.value="Token revoked successfully!",await va())}catch(e){console.error("Failed to revoke token:",e),e.value="Failed to revoke token"}finally{Xt.value=!1}}},_a=async()=>{Xt.value=!0;try{const e=await S.getRotationCandidates(90);e.success&&(Qt.value=e.data.candidates)}catch(e){console.error("Failed to get rotation candidates:",e)}finally{Xt.value=!1}},Ca=()=>{if(!$t.value)return;const e={token:$t.value,history:Kt.value,security_report:qt.value,export_timestamp:(new Date).toISOString()},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),a=URL.createObjectURL(t),l=document.createElement("a");l.href=a,l.download=`token-data-${Gt.websiteId}-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)};return r(()=>Gt.isOpen,e=>{e&&na.value&&va()}),r(()=>na.value,()=>{Gt.isOpen&&na.value&&va()}),i(()=>{Gt.isOpen&&na.value&&va()}),(l,s)=>l.isOpen?(t(),e("div",D,[a("div",F,[a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:ua}),a("div",B,[a("div",E,[a("div",H,[a("div",P,[s[23]||(s[23]=a("h3",{class:"text-lg font-medium text-gray-900"},"Script Generator & Token Management",-1)),a("button",{onClick:ua,class:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500"},[d(u(j),{class:"h-6 w-6"})])]),a("div",N,[a("div",z,[a("div",null,[a("h4",G,m(Gt.website?.name||$t.value?.website_name||"Website"),1),a("p",W,m(Gt.website?.url||$t.value?.website_url||"No URL"),1)]),$t.value?(t(),e("div",J,[a("span",{class:v([da($t.value.status),"px-3 py-1 rounded-full text-sm font-medium"])},m($t.value.status),3),a("span",$,m($t.value.environment),1)])):(t(),e("div",X,s[24]||(s[24]=[a("span",{class:"px-3 py-1 bg-gray-100 text-gray-800 rounded-full text-sm font-medium"}," No Token ",-1)])))])]),a("div",q,[a("nav",K,[(t(),e(b,null,p(ca,e=>a("button",{key:e.id,onClick:t=>Jt.value=e.id,class:v([Jt.value===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},[(t(),g(x(e.icon),{class:"h-5 w-5 mr-2 inline"})),y(" "+m(e.name),1)],10,Q)),64))])]),a("div",Y,["generate"===Jt.value?(t(),e("div",ee,[a("div",te,[s[35]||(s[35]=a("h5",{class:"text-lg font-medium mb-4"},"Script Configuration",-1)),a("div",ae,[a("div",null,[s[29]||(s[29]=a("h6",{class:"text-md font-medium mb-3"},"Script Settings",-1)),a("div",le,[a("div",null,[s[26]||(s[26]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Script Version",-1)),f(a("select",{"onUpdate:modelValue":s[0]||(s[0]=e=>ra.script_version=e),class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},s[25]||(s[25]=[a("option",{value:"v2_enhanced"},"v2 Enhanced (Recommended)",-1),a("option",{value:"v1_advanced"},"v1 Advanced",-1),a("option",{value:"v1_basic"},"v1 Basic",-1)]),512),[[h,ra.script_version]])]),a("div",null,[s[28]||(s[28]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Environment",-1)),f(a("select",{"onUpdate:modelValue":s[1]||(s[1]=e=>ia.environment=e),class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},s[27]||(s[27]=[a("option",{value:"development"},"Development",-1),a("option",{value:"staging"},"Staging",-1),a("option",{value:"production"},"Production",-1)]),512),[[h,ia.environment]])])])]),a("div",null,[s[34]||(s[34]=a("h6",{class:"text-md font-medium mb-3"},"Data Collection",-1)),a("div",se,[a("label",ne,[f(a("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>ra.collect_mouse_movements=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_mouse_movements]]),s[30]||(s[30]=a("span",{class:"ml-2 text-sm"},"Mouse Movements",-1))]),a("label",oe,[f(a("input",{"onUpdate:modelValue":s[3]||(s[3]=e=>ra.collect_keyboard_patterns=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_keyboard_patterns]]),s[31]||(s[31]=a("span",{class:"ml-2 text-sm"},"Keyboard Patterns",-1))]),a("label",re,[f(a("input",{"onUpdate:modelValue":s[4]||(s[4]=e=>ra.collect_scroll_behavior=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_scroll_behavior]]),s[32]||(s[32]=a("span",{class:"ml-2 text-sm"},"Scroll Behavior",-1))]),a("label",ie,[f(a("input",{"onUpdate:modelValue":s[5]||(s[5]=e=>ra.collect_timing_data=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_timing_data]]),s[33]||(s[33]=a("span",{class:"ml-2 text-sm"},"Timing Data",-1))])])])]),a("div",ce,[a("button",{onClick:ba,disabled:Xt.value||!na.value,class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed"},[Xt.value?(t(),e("span",ue,"Generating...")):(t(),e("span",me,"Generate Script"))],8,de)])]),ta.value?(t(),e("div",ve,[s[41]||(s[41]=a("h5",{class:"text-lg font-medium mb-4"},"Generated Integration Code",-1)),a("div",be,[a("nav",pe,[(t(),e(b,null,p(oa,e=>a("button",{key:e.id,onClick:t=>sa.value=e.id,class:v([sa.value===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300","whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm"])},m(e.name),11,ge)),64))])]),a("div",ye,["html"===sa.value?(t(),e("div",xe,[a("div",fe,[s[36]||(s[36]=a("h6",{class:"font-medium"},"HTML Integration",-1)),a("button",{onClick:s[6]||(s[6]=e=>pa(ta.value.integration?.basic_html||"")),class:"text-sm text-blue-600 hover:text-blue-800"}," Copy Code ")]),a("pre",he,[a("code",null,m(ta.value.integration?.basic_html),1)])])):c("",!0),"react"===sa.value?(t(),e("div",ke,[a("div",we,[s[37]||(s[37]=a("h6",{class:"font-medium"},"React/Next.js Integration",-1)),a("button",{onClick:s[7]||(s[7]=e=>pa(ta.value.integration?.react_nextjs||"")),class:"text-sm text-blue-600 hover:text-blue-800"}," Copy Code ")]),a("pre",_e,[a("code",null,m(ta.value.integration?.react_nextjs),1)])])):c("",!0),"wordpress"===sa.value?(t(),e("div",Ce,[a("div",Se,[s[38]||(s[38]=a("h6",{class:"font-medium"},"WordPress Integration",-1)),a("button",{onClick:s[8]||(s[8]=e=>pa(ta.value.integration?.wordpress_php||"")),class:"text-sm text-blue-600 hover:text-blue-800"}," Copy Code ")]),a("pre",je,[a("code",null,m(ta.value.integration?.wordpress_php),1)])])):c("",!0),"advanced"===sa.value?(t(),e("div",Ue,[a("div",Re,[s[39]||(s[39]=a("h6",{class:"font-medium"},"Advanced JavaScript",-1)),a("button",{onClick:s[9]||(s[9]=e=>pa(ta.value.integration?.advanced_javascript||"")),class:"text-sm text-blue-600 hover:text-blue-800"}," Copy Code ")]),a("pre",Te,[a("code",null,m(ta.value.integration?.advanced_javascript),1)])])):c("",!0)]),a("div",Me,[a("div",Ve,[s[40]||(s[40]=y(" Script URL: ",-1)),a("span",Ae,m(ta.value.integration?.script_url),1)]),a("button",{onClick:ga,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"}," Download Package ")])])):c("",!0),la.value?(t(),e("div",Ie,[a("p",Oe,m(la.value),1)])):c("",!0),aa.value?(t(),e("div",Le,[a("p",Ze,m(aa.value),1)])):c("",!0)])):c("",!0),"overview"===Jt.value?(t(),e("div",De,[a("div",Fe,[a("div",Be,[s[48]||(s[48]=a("h5",{class:"text-lg font-medium mb-4"},"Token Information",-1)),a("dl",Ee,[a("div",null,[s[42]||(s[42]=a("dt",{class:"font-medium text-gray-600"},"Token ID",-1)),a("dd",He,m($t.value?.token_id),1)]),a("div",null,[s[43]||(s[43]=a("dt",{class:"font-medium text-gray-600"},"Script Version",-1)),a("dd",Pe,m($t.value?.script_version),1)]),a("div",null,[s[44]||(s[44]=a("dt",{class:"font-medium text-gray-600"},"Created",-1)),a("dd",Ne,m(ma($t.value?.created_at)),1)]),a("div",null,[s[45]||(s[45]=a("dt",{class:"font-medium text-gray-600"},"Last Used",-1)),a("dd",ze,m(ma($t.value?.last_used_at)||"Never"),1)]),a("div",null,[s[46]||(s[46]=a("dt",{class:"font-medium text-gray-600"},"Usage Count",-1)),a("dd",Ge,m($t.value?.usage_count?.toLocaleString()||0),1)]),a("div",null,[s[47]||(s[47]=a("dt",{class:"font-medium text-gray-600"},"Regenerations",-1)),a("dd",We,m($t.value?.regeneration_count||0),1)])])]),a("div",Je,[s[52]||(s[52]=a("h5",{class:"text-lg font-medium mb-4"},"Quick Actions",-1)),a("div",$e,[a("button",{onClick:ha,class:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors"},[d(u(U),{class:"h-4 w-4 mr-2 inline"}),s[49]||(s[49]=y(" Regenerate Token ",-1))]),a("button",{onClick:s[10]||(s[10]=e=>Yt.value=!0),class:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition-colors"},[d(u(M),{class:"h-4 w-4 mr-2 inline"}),s[50]||(s[50]=y(" Revoke Token ",-1))]),a("button",{onClick:ya,class:"w-full bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 transition-colors"},[d(u(R),{class:"h-4 w-4 mr-2 inline"}),s[51]||(s[51]=y(" Security Check ",-1))])])])]),qt.value?(t(),e("div",Xe,[s[56]||(s[56]=a("h5",{class:"text-lg font-medium mb-4"},"Security Report",-1)),a("div",qe,[a("div",Ke,[a("div",{class:v(["text-2xl font-bold",qt.value.security_score>=80?"text-green-600":qt.value.security_score>=60?"text-yellow-600":"text-red-600"])},m(qt.value.security_score)+"/100 ",3),s[53]||(s[53]=a("div",{class:"text-sm text-gray-600"},"Security Score",-1))]),a("div",Qe,[a("div",Ye,[a("div",{class:v(["h-2 rounded-full",qt.value.security_score>=80?"bg-green-500":qt.value.security_score>=60?"bg-yellow-500":"bg-red-500"]),style:w({width:`${qt.value.security_score}%`})},null,6)])])]),qt.value.issues?.length?(t(),e("div",et,[s[54]||(s[54]=a("h6",{class:"font-medium text-red-600 mb-2"},"Security Issues",-1)),a("ul",tt,[(t(!0),e(b,null,p(qt.value.issues,a=>(t(),e("li",{key:a},m(a),1))),128))])])):c("",!0),qt.value.recommendations?.length?(t(),e("div",at,[s[55]||(s[55]=a("h6",{class:"font-medium text-yellow-600 mb-2"},"Recommendations",-1)),a("ul",lt,[(t(!0),e(b,null,p(qt.value.recommendations,a=>(t(),e("li",{key:a},m(a),1))),128))])])):c("",!0)])):c("",!0)])):c("",!0),"configuration"===Jt.value?(t(),e("div",st,[a("div",nt,[s[67]||(s[67]=a("h5",{class:"text-lg font-medium mb-4"},"Script Configuration",-1)),a("div",ot,[a("div",null,[s[61]||(s[61]=a("h6",{class:"text-md font-medium mb-3"},"Data Collection",-1)),a("div",rt,[a("label",it,[f(a("input",{"onUpdate:modelValue":s[11]||(s[11]=e=>ra.collect_mouse_movements=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_mouse_movements]]),s[57]||(s[57]=a("span",{class:"ml-2 text-sm"},"Mouse Movements",-1))]),a("label",ct,[f(a("input",{"onUpdate:modelValue":s[12]||(s[12]=e=>ra.collect_keyboard_patterns=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_keyboard_patterns]]),s[58]||(s[58]=a("span",{class:"ml-2 text-sm"},"Keyboard Patterns",-1))]),a("label",dt,[f(a("input",{"onUpdate:modelValue":s[13]||(s[13]=e=>ra.collect_scroll_behavior=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_scroll_behavior]]),s[59]||(s[59]=a("span",{class:"ml-2 text-sm"},"Scroll Behavior",-1))]),a("label",ut,[f(a("input",{"onUpdate:modelValue":s[14]||(s[14]=e=>ra.collect_timing_data=e),type:"checkbox",class:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[k,ra.collect_timing_data]]),s[60]||(s[60]=a("span",{class:"ml-2 text-sm"},"Timing Data",-1))])])]),a("div",null,[s[66]||(s[66]=a("h6",{class:"text-md font-medium mb-3"},"Performance",-1)),a("div",mt,[a("div",null,[s[62]||(s[62]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Sampling Rate",-1)),f(a("input",{"onUpdate:modelValue":s[15]||(s[15]=e=>ra.sampling_rate=e),type:"number",min:"0",max:"1",step:"0.1",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,ra.sampling_rate,void 0,{number:!0}]]),s[63]||(s[63]=a("p",{class:"text-xs text-gray-500 mt-1"},"0.1 = 10%, 1.0 = 100%",-1))]),a("div",null,[s[64]||(s[64]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Batch Size",-1)),f(a("input",{"onUpdate:modelValue":s[16]||(s[16]=e=>ra.batch_size=e),type:"number",min:"1",max:"100",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,ra.batch_size,void 0,{number:!0}]])]),a("div",null,[s[65]||(s[65]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Send Interval (ms)",-1)),f(a("input",{"onUpdate:modelValue":s[17]||(s[17]=e=>ra.send_interval=e),type:"number",min:"1000",max:"60000",step:"1000",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,ra.send_interval,void 0,{number:!0}]])])])])]),a("div",{class:"mt-6 flex justify-end space-x-3"},[a("button",{onClick:fa,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Reset "),a("button",{onClick:xa,class:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"}," Update Configuration ")])])])):c("",!0),"history"===Jt.value?(t(),e("div",vt,[a("div",bt,[s[69]||(s[69]=a("h5",{class:"text-lg font-medium mb-4"},"Token History",-1)),0===Kt.value.length?(t(),e("div",pt,[d(u(T),{class:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s[68]||(s[68]=a("p",null,"No token history available",-1))])):(t(),e("div",gt,[(t(!0),e(b,null,p(Kt.value,(l,s)=>(t(),e("div",{key:l.token.token_id,class:v(["border rounded-lg p-4",0===s?"border-blue-200 bg-blue-50":"border-gray-200"])},[a("div",yt,[a("div",null,[a("div",xt,[a("h6",ft,m(l.token.script_version),1),a("span",{class:v([da(l.token.status),"px-2 py-1 rounded-full text-xs font-medium"])},m(l.token.status),3),0===s?(t(),e("span",ht," Current ")):c("",!0)]),a("p",kt," Created: "+m(ma(l.lifecycle_events.created)),1),l.lifecycle_events.revoked?(t(),e("p",wt," Revoked: "+m(ma(l.lifecycle_events.revoked)),1)):c("",!0)]),a("div",_t,[a("p",null,"Usage: "+m(l.performance_summary.usage_count.toLocaleString()),1),a("p",null,"Active: "+m(Math.round(l.performance_summary.active_duration_hours))+"h",1),a("p",null,"Regenerations: "+m(l.performance_summary.regeneration_count),1)])])],2))),128))]))])])):c("",!0),"advanced"===Jt.value?(t(),e("div",Ct,[a("div",St,[s[81]||(s[81]=a("h5",{class:"text-lg font-medium mb-4"},"Advanced Operations",-1)),a("div",jt,[a("div",null,[s[74]||(s[74]=a("h6",{class:"text-md font-medium mb-3"},"Environment Management",-1)),a("div",Ut,[a("div",null,[s[71]||(s[71]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Switch Environment",-1)),f(a("select",{"onUpdate:modelValue":s[18]||(s[18]=e=>ia.environment=e),class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},s[70]||(s[70]=[a("option",{value:"development"},"Development",-1),a("option",{value:"staging"},"Staging",-1),a("option",{value:"production"},"Production",-1)]),512),[[h,ia.environment]])]),a("div",null,[s[73]||(s[73]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Script Version",-1)),f(a("select",{"onUpdate:modelValue":s[19]||(s[19]=e=>ia.script_version=e),class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},s[72]||(s[72]=[a("option",{value:"v1_basic"},"v1 Basic",-1),a("option",{value:"v1_advanced"},"v1 Advanced",-1),a("option",{value:"v2_enhanced"},"v2 Enhanced",-1)]),512),[[h,ia.script_version]])])])]),a("div",null,[s[77]||(s[77]=a("h6",{class:"text-md font-medium mb-3"},"Bulk Operations",-1)),a("div",Rt,[a("button",{onClick:_a,class:"w-full text-left px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50"},[d(u(T),{class:"h-4 w-4 mr-2 inline"}),s[75]||(s[75]=y(" Check Rotation Candidates ",-1))]),a("button",{onClick:Ca,class:"w-full text-left px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50"},[d(u(C),{class:"h-4 w-4 mr-2 inline"}),s[76]||(s[76]=y(" Export Token Data ",-1))])])])]),a("div",Tt,[s[80]||(s[80]=a("h6",{class:"text-md font-medium mb-3"},"Regenerate with Advanced Options",-1)),a("div",Mt,[a("div",null,[s[78]||(s[78]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Regeneration Reason",-1)),f(a("input",{"onUpdate:modelValue":s[20]||(s[20]=e=>ia.reason=e),type:"text",placeholder:"e.g., Security policy update, Configuration change",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,ia.reason]])]),a("button",{onClick:ka,class:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700"},[d(u(U),{class:"h-4 w-4 mr-2 inline"}),s[79]||(s[79]=y(" Regenerate with Advanced Options ",-1))])])])]),Qt.value.length>0?(t(),e("div",Vt,[s[82]||(s[82]=a("h5",{class:"text-lg font-medium mb-4"},"Rotation Candidates",-1)),a("div",At,[(t(!0),e(b,null,p(Qt.value.slice(0,5),l=>(t(),e("div",{key:l.token.token_id,class:"flex justify-between items-center p-3 border rounded-lg"},[a("div",null,[a("p",It,m(l.token.website_name),1),a("p",Ot,"Age: "+m(l.age_days)+" days",1),a("p",Lt,m(l.rotation_reasons.join(", ")),1)]),a("span",{class:v(["px-2 py-1 rounded-full text-xs font-medium","high"===l.rotation_priority?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"])},m(l.rotation_priority),3)]))),128))])])):c("",!0)])):c("",!0)]),a("div",{class:"mt-8 flex justify-end space-x-3"},[a("button",{onClick:ua,class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"}," Close ")])])])])]),Yt.value?(t(),e("div",Zt,[a("div",Dt,[s[86]||(s[86]=a("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1)),a("div",Ft,[a("div",Bt,[a("div",Et,[d(u(V),{class:"h-6 w-6 text-red-600"})]),a("div",Ht,[s[85]||(s[85]=a("h3",{class:"text-lg leading-6 font-medium text-gray-900"},"Revoke Script Token",-1)),a("div",Pt,[s[84]||(s[84]=a("p",{class:"text-sm text-gray-500"}," Are you sure you want to revoke this script token? This action cannot be undone and the website will stop working immediately. ",-1)),a("div",Nt,[s[83]||(s[83]=a("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Revocation Reason",-1)),f(a("input",{"onUpdate:modelValue":s[21]||(s[21]=e=>ea.value=e),type:"text",placeholder:"e.g., Security concern, Website migration",class:"block w-full rounded-md border-gray-300 focus:border-blue-500 focus:ring-blue-500"},null,512),[[_,ea.value]])])])])]),a("div",zt,[a("button",{onClick:wa,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"}," Revoke Token "),a("button",{onClick:s[22]||(s[22]=e=>Yt.value=!1),class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:w-auto sm:text-sm"}," Cancel ")])])])])):c("",!0)])):c("",!0)}}),[["__scopeId","data-v-7ab56bf4"]]);export{Gt as S};
