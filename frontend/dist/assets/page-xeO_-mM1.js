import{e,D as a,q as s,d as t,M as r,r as l,y as d,p as o,Q as n,U as i,j as c,u,G as p,t as m,s as g,P as v,f as x}from"./vendor-BByfD4fc.js";import{u as b}from"./index-BgQQ-uRh.js";import{useAppStore as y}from"./app-Wcxyh3f8.js";import{r as f,a as h}from"./EyeIcon-iFm-iff6.js";import{r as k}from"./ExclamationTriangleIcon-CMg3JLn_.js";import{_ as w}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./utils-Bp8ce8Co.js";function j(t,r){return a(),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})])}const _={class:"mt-1 relative"},S=["type","disabled"],M=["disabled"],I={key:0,class:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-3"},L={class:"flex"},P={class:"ml-3"},E={class:"text-sm text-red-800 dark:text-red-200"},q=["disabled"],A={key:0,class:"absolute left-0 inset-y-0 flex items-center pl-3"},B=w(t({__name:"LoginForm",setup(t){const v=b(),x=y(),w=r(),B=l(""),C=l(!1),D=l(!1),U=l(""),V=()=>{C.value=!C.value},F=async()=>{if(B.value.trim()){D.value=!0,U.value="";try{const e=await v.login(B.value);e.success?(x.addNotification({type:"success",title:"Welcome!",message:"Successfully signed in to your dashboard"}),await w.push("/dashboard")):(U.value=e.error||"Login failed. Please check your password.",B.value="")}catch(e){console.error("Login exception:",e),U.value=e.message||"Login failed. Please check your password.",B.value=""}finally{D.value=!1}}};return(t,r)=>(a(),e("form",{onSubmit:d(F,["prevent"]),class:"space-y-6"},[s("div",null,[r[1]||(r[1]=s("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Admin Password ",-1)),s("div",_,[n(s("input",{id:"password","onUpdate:modelValue":r[0]||(r[0]=e=>B.value=e),type:C.value?"text":"password",required:"",class:"block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 dark:bg-gray-700 dark:text-white sm:text-sm",placeholder:"Enter your admin password",disabled:D.value},null,8,S),[[i,B.value]]),s("button",{type:"button",onClick:V,class:"absolute inset-y-0 right-0 pr-3 flex items-center",disabled:D.value},[C.value?(a(),c(u(h),{key:1,class:"h-5 w-5 text-gray-400"})):(a(),c(u(f),{key:0,class:"h-5 w-5 text-gray-400"}))],8,M)])]),U.value?(a(),e("div",I,[s("div",L,[p(u(k),{class:"h-5 w-5 text-red-400"}),s("div",P,[s("p",E,m(U.value),1)])])])):o("",!0),s("div",null,[s("button",{type:"submit",disabled:D.value||!B.value.trim(),class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"},[D.value?(a(),e("span",A,r[2]||(r[2]=[s("div",{class:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"},null,-1)]))):(a(),c(u(j),{key:1,class:"absolute left-0 inset-y-0 flex items-center pl-3 h-5 w-5 text-indigo-500 group-hover:text-indigo-400"})),g(" "+m(D.value?"Signing in...":"Sign in"),1)],8,q)])],32))}}),[["__scopeId","data-v-95de4c87"]]),C={class:"mt-6 border-t border-gray-200 dark:border-gray-700 pt-6"},D={class:"text-center"},U={class:"flex items-center justify-center space-x-4"},V={class:"flex items-center space-x-2"},F={class:"flex items-center space-x-2"},G={class:"flex items-center space-x-2"},H=t({__name:"SystemStatus",setup(t){const r=l({backend:!1,database:!1,mlModel:!1}),d=async()=>{try{const e="http://localhost:5002",a=await fetch(`${e}/health`);if(a.ok){const e=await a.json();r.value={backend:!0,database:"connected"===e.database_status||!0,mlModel:e.model_loaded||!1}}else r.value={backend:!1,database:!1,mlModel:!1}}catch(e){console.error("System status check failed:",e),r.value={backend:!1,database:!1,mlModel:!1}}};return v(()=>{d();const e=setInterval(d,3e4);return()=>clearInterval(e)}),(t,l)=>(a(),e("div",C,[s("div",D,[l[3]||(l[3]=s("p",{class:"text-xs text-gray-500 dark:text-gray-400 mb-3"}," System Status ",-1)),s("div",U,[s("div",V,[s("div",{class:x(["w-2 h-2 rounded-full",r.value.backend?"bg-green-400":"bg-red-400"])},null,2),l[0]||(l[0]=s("span",{class:"text-xs text-gray-600 dark:text-gray-400"}," Backend ",-1))]),s("div",F,[s("div",{class:x(["w-2 h-2 rounded-full",r.value.database?"bg-green-400":"bg-red-400"])},null,2),l[1]||(l[1]=s("span",{class:"text-xs text-gray-600 dark:text-gray-400"}," Database ",-1))]),s("div",G,[s("div",{class:x(["w-2 h-2 rounded-full",r.value.mlModel?"bg-green-400":"bg-red-400"])},null,2),l[2]||(l[2]=s("span",{class:"text-xs text-gray-600 dark:text-gray-400"}," ML Model ",-1))])])])]))}}),N={class:"space-y-6"},Q=t({__name:"page",setup:t=>(t,r)=>(a(),e("div",N,[r[0]||(r[0]=s("div",{class:"text-center"},[s("h2",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Sign in to your account "),s("p",{class:"mt-2 text-sm text-gray-600 dark:text-gray-400"}," Access your admin dashboard ")],-1)),p(B),p(H)]))});export{Q as default};
