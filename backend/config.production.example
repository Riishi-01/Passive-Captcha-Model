# Production Environment Configuration for Passive CAPTCHA
# Copy this file to .env.production and update the values

# Database Configuration
POSTGRES_USER=captcha_user
POSTGRES_PASSWORD=your_secure_postgres_password_here
DATABASE_URL=postgresql://captcha_user:your_secure_postgres_password_here@postgres:5432/passive_captcha_prod

# Redis Configuration
REDIS_PASSWORD=your_secure_redis_password_here
REDIS_URL=redis://:your_secure_redis_password_here@redis:6379/0

# Application Secrets
SECRET_KEY=your_ultra_secure_secret_key_min_32_chars
ADMIN_SECRET=your_admin_password_change_this
JWT_SECRET=your_jwt_secret_key_change_this

# API Configuration
API_BASE_URL=https://api.yourdomain.com
WEBSOCKET_URL=wss://api.yourdomain.com
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ML Model Configuration
CONFIDENCE_THRESHOLD=0.7
MODEL_PATH=/app/models/passive_captcha_rf.pkl

# Rate Limiting
RATE_LIMIT_REQUESTS=2000
RATE_LIMIT_PER_MINUTE=100

# Logging
LOG_LEVEL=INFO
LOG_FILE=/app/logs/app.log
LOG_MAX_SIZE=10485760
LOG_BACKUP_COUNT=10

# Performance & Scaling
WEB_CONCURRENCY=4
MAX_WORKERS=8
WORKER_TIMEOUT=120
WORKER_CLASS=eventlet

# Frontend Configuration
VITE_API_URL=https://api.yourdomain.com
VITE_WS_URL=wss://api.yourdomain.com

# Monitoring
GRAFANA_PASSWORD=your_grafana_admin_password
PROMETHEUS_RETENTION=30d

# SSL/TLS (if using custom certificates)
SSL_CERT_PATH=/etc/ssl/certs/yourdomain.crt
SSL_KEY_PATH=/etc/ssl/private/yourdomain.key

# External Services (optional)
SMTP_SERVER=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=noreply@yourdomain.com
SMTP_PASSWORD=your_smtp_password
SMTP_USE_TLS=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-east-1

# Health Check URLs (for external monitoring)
HEALTH_CHECK_URL=https://api.yourdomain.com/health
UPTIMEROBOT_API_KEY=your_uptimerobot_api_key

# Feature Flags
ENABLE_REAL_TIME_LOGS=true
ENABLE_ML_MONITORING=true
ENABLE_GEO_ANALYTICS=true
ENABLE_THREAT_ANALYSIS=true
ENABLE_AUTO_SCALING=false

# Security Headers
ENABLE_HSTS=true
ENABLE_CSP=true
ENABLE_FRAME_OPTIONS=true

# Cache Configuration
CACHE_DEFAULT_TIMEOUT=300
CACHE_THRESHOLD=1000

# Session Configuration
SESSION_PERMANENT=false
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=Strict

# CORS Configuration
CORS_SUPPORTS_CREDENTIALS=true
CORS_MAX_AGE=86400

# Webhook Configuration (for integrations)
WEBHOOK_SECRET=your_webhook_secret_key
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your/discord/webhook

# Analytics & Metrics
GOOGLE_ANALYTICS_ID=GA-XXXXXX-X
MIXPANEL_TOKEN=your_mixpanel_token

# Content Security
MAX_CONTENT_LENGTH=16777216  # 16MB
UPLOAD_FOLDER=/app/uploads
ALLOWED_EXTENSIONS=csv,json,xlsx

# Time Zone
TZ=UTC

# Development/Debug (set to false in production)
FLASK_DEBUG=false
FLASK_ENV=production
TESTING=false